/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._Templated"],["require","dijit._Widget"],["require","dojo.string"],["require","dojo.parser"],["require","dojo.cache"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._Templated"]){_4._hasResource["dijit._Templated"]=true;_4.provide("dijit._Templated");_4.require("dijit._Widget");_4.require("dojo.string");_4.require("dojo.parser");_4.require("dojo.cache");_4.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];},_stringRepl:function(_7){var _8=this.declaredClass,_9=this;return _4.string.substitute(_7,this,function(_a,_b){if(_b.charAt(0)=="!"){_a=_4.getObject(_b.substr(1),false,_9);}if(typeof _a=="undefined"){throw new Error(_8+" template:"+_b);}if(_a==null){return "";}return _b.charAt(0)=="!"?_a:_a.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _c=_5._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var _d;if(_4.isString(_c)){_d=_4._toDom(this._stringRepl(_c));if(_d.nodeType!=1){throw new Error("Invalid template: "+_c);}}else{_d=_c.cloneNode(true);}this.domNode=_d;this._attachTemplateNodes(_d);if(this.widgetsInTemplate){var _e=_4.parser,_f,_10;if(_e._query!="[dojoType]"){_f=_e._query;_10=_e._attrName;_e._query="[dojoType]";_e._attrName="dojoType";}var cw=(this._startupWidgets=_4.parser.parse(_d,{noStart:!this._earlyTemplatedStartup}));if(_f){_e._query=_f;_e._attrName=_10;}this._supportingWidgets=_5.findWidgets(_d);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_11){var _12=this.containerNode;if(_11&&_12){while(_11.hasChildNodes()){_12.appendChild(_11.firstChild);}}},_attachTemplateNodes:function(_13,_14){_14=_14||function(n,p){return n.getAttribute(p);};var _15=_4.isArray(_13)?_13:(_13.all||_13.getElementsByTagName("*"));var x=_4.isArray(_13)?0:-1;for(;x<_15.length;x++){var _16=(x==-1)?_13:_15[x];if(this.widgetsInTemplate&&_14(_16,"dojoType")){continue;}var _17=_14(_16,"dojoAttachPoint");if(_17){var _18,_19=_17.split(/\s*,\s*/);while((_18=_19.shift())){if(_4.isArray(this[_18])){this[_18].push(_16);}else{this[_18]=_16;}this._attachPoints.push(_18);}}var _1a=_14(_16,"dojoAttachEvent");if(_1a){var _1b,_1c=_1a.split(/\s*,\s*/);var _1d=_4.trim;while((_1b=_1c.shift())){if(_1b){var _1e=null;if(_1b.indexOf(":")!=-1){var _1f=_1b.split(":");_1b=_1d(_1f[0]);_1e=_1d(_1f[1]);}else{_1b=_1d(_1b);}if(!_1e){_1e=_1b;}this.connect(_16,_1b,_1e);}}}var _20=_14(_16,"waiRole");if(_20){_5.setWaiRole(_16,_20);}var _21=_14(_16,"waiState");if(_21){_4.forEach(_21.split(/\s*,\s*/),function(_22){if(_22.indexOf("-")!=-1){var _23=_22.split("-");_5.setWaiState(_16,_23[0],_23[1]);}});}}},startup:function(){_4.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){_4.forEach(this._attachPoints,function(_24){delete this[_24];},this);this._attachPoints=[];this.inherited(arguments);}});_5._Templated._templateCache={};_5._Templated.getCachedTemplate=function(_25,_26,_27){var _28=_5._Templated._templateCache;var key=_26||_25;var _29=_28[key];if(_29){try{if(!_29.ownerDocument||_29.ownerDocument==_4.doc){return _29;}}catch(e){}_4.destroy(_29);}if(!_26){_26=_4.cache(_25,{sanitize:true});}_26=_4.string.trim(_26);if(_27||_26.match(/\$\{([^\}]+)\}/g)){return (_28[key]=_26);}else{var _2a=_4._toDom(_26);if(_2a.nodeType!=1){throw new Error("Invalid template: "+_26);}return (_28[key]=_2a);}};if(_4.isIE){_4.addOnWindowUnload(function(){var _2b=_5._Templated._templateCache;for(var key in _2b){var _2c=_2b[key];if(typeof _2c=="object"){_4.destroy(_2c);}delete _2b[key];}});}_4.extend(_5._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}}};});