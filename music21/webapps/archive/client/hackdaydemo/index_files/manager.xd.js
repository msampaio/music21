/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._base.manager"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._base.manager"]){_4._hasResource["dijit._base.manager"]=true;_4.provide("dijit._base.manager");_4.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_7){if(this._hash[_7.id]){throw new Error("Tried to register widget with id=="+_7.id+" but that id is already registered");}this._hash[_7.id]=_7;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_8,_9){_9=_9||_4.global;var i=0,id;for(id in this._hash){_8.call(_9,this._hash[id],i++,this._hash);}return this;},filter:function(_a,_b){_b=_b||_4.global;var _c=new _5.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_a.call(_b,w,i++,this._hash)){_c.add(w);}}return _c;},byId:function(id){return this._hash[id];},byClass:function(_d){var _e=new _5.WidgetSet(),id,_f;for(id in this._hash){_f=this._hash[id];if(_f.declaredClass==_d){_e.add(_f);}}return _e;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_10,_11){return _4.map(this.toArray(),_10,_11);},every:function(_12,_13){_13=_13||_4.global;var x=0,i;for(i in this._hash){if(!_12.call(_13,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_14,_15){_15=_15||_4.global;var x=0,i;for(i in this._hash){if(_14.call(_15,this._hash[i],x++,this._hash)){return true;}}return false;}});_5.registry=new _5.WidgetSet();_5._widgetTypeCtr={};_5.getUniqueId=function(_16){var id;do{id=_16+"_"+(_16 in _5._widgetTypeCtr?++_5._widgetTypeCtr[_16]:_5._widgetTypeCtr[_16]=0);}while(_5.byId(id));return _5._scopeName=="dijit"?id:_5._scopeName+"_"+id;};_5.findWidgets=function(_17){var _18=[];function _19(_1a){for(var _1b=_1a.firstChild;_1b;_1b=_1b.nextSibling){if(_1b.nodeType==1){var _1c=_1b.getAttribute("widgetId");if(_1c){var _1d=_5.byId(_1c);_18.push(_1d);}else{_19(_1b);}}}};_19(_17);return _18;};_5._destroyAll=function(){_5._curFocus=null;_5._prevFocus=null;_5._activeStack=[];_4.forEach(_5.findWidgets(_4.body()),function(_1e){if(!_1e._destroyed){if(_1e.destroyRecursive){_1e.destroyRecursive();}else{if(_1e.destroy){_1e.destroy();}}}});};if(_4.isIE){_4.addOnWindowUnload(function(){_5._destroyAll();});}_5.byId=function(id){return typeof id=="string"?_5.registry._hash[id]:id;};_5.byNode=function(_1f){return _5.registry.byId(_1f.getAttribute("widgetId"));};_5.getEnclosingWidget=function(_20){while(_20){var id=_20.getAttribute&&_20.getAttribute("widgetId");if(id){return _5.byId(id);}_20=_20.parentNode;}return null;};_5._isElementShown=function(_21){var _22=_4.style(_21);return (_22.visibility!="hidden")&&(_22.visibility!="collapsed")&&(_22.display!="none")&&(_4.attr(_21,"type")!="hidden");};_5.isTabNavigable=function(_23){if(_4.attr(_23,"disabled")){return false;}else{if(_4.hasAttr(_23,"tabIndex")){return _4.attr(_23,"tabIndex")>=0;}else{switch(_23.nodeName.toLowerCase()){case "a":return _4.hasAttr(_23,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(_4.isMoz){return _23.contentDocument.designMode=="on";}else{if(_4.isWebKit){var doc=_23.contentDocument,_24=doc&&doc.body;return _24&&_24.contentEditable=="true";}else{try{doc=_23.contentWindow.document;_24=doc&&doc.body;return _24&&_24.firstChild&&_24.firstChild.contentEditable=="true";}catch(e){return false;}}}default:return _23.contentEditable=="true";}}}};_5._getTabNavigable=function(_25){var _26,_27,_28,_29,_2a,_2b;var _2c=function(_2d){_4.query("> *",_2d).forEach(function(_2e){var _2f=_5._isElementShown(_2e);if(_2f&&_5.isTabNavigable(_2e)){var _30=_4.attr(_2e,"tabIndex");if(!_4.hasAttr(_2e,"tabIndex")||_30==0){if(!_26){_26=_2e;}_27=_2e;}else{if(_30>0){if(!_28||_30<_29){_29=_30;_28=_2e;}if(!_2a||_30>=_2b){_2b=_30;_2a=_2e;}}}}if(_2f&&_2e.nodeName.toUpperCase()!="SELECT"){_2c(_2e);}});};if(_5._isElementShown(_25)){_2c(_25);}return {first:_26,last:_27,lowest:_28,highest:_2a};};_5.getFirstInTabbingOrder=function(_31){var _32=_5._getTabNavigable(_4.byId(_31));return _32.lowest?_32.lowest:_32.first;};_5.getLastInTabbingOrder=function(_33){var _34=_5._getTabNavigable(_4.byId(_33));return _34.last?_34.last:_34.highest;};_5.defaultDuration=_4.config["defaultDuration"]||200;}}};});