/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._base.popup"],["require","dijit._base.focus"],["require","dijit._base.place"],["require","dijit._base.window"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._base.popup"]){_4._hasResource["dijit._base.popup"]=true;_4.provide("dijit._base.popup");_4.require("dijit._base.focus");_4.require("dijit._base.place");_4.require("dijit._base.window");_5.popup=new function(){var _7=[],_8=1000,_9=1;this.moveOffScreen=function(_a){var s=_a.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}_4.body().appendChild(_a);};var _b=function(){for(var pi=_7.length-1;pi>0&&_7[pi].parent===_7[pi-1].widget;pi--){}return _7[pi];};var _c=[];this.open=function(_d){var _e=_d.popup,_f=_d.orient||(_4._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_10=_d.around,id=(_d.around&&_d.around.id)?(_d.around.id+"_dropdown"):("popup_"+_9++);var _11=_c.pop(),_12,_13;if(!_11){_12=_4.create("div",{"class":"dijitPopup"},_4.body());_5.setWaiRole(_12,"presentation");}else{_12=_11[0];_13=_11[1];}_4.attr(_12,{id:id,style:{zIndex:_8+_7.length,visibility:"hidden",top:"-9999px"},dijitPopupParent:_d.parent?_d.parent.id:""});var s=_e.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_12.appendChild(_e.domNode);if(!_13){_13=new _5.BackgroundIframe(_12);}else{_13.resize(_12);}var _14=_10?_5.placeOnScreenAroundElement(_12,_10,_f,_e.orient?_4.hitch(_e,"orient"):null):_5.placeOnScreen(_12,_d,_f=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_d.padding);_12.style.visibility="visible";var _15=[];_15.push(_4.connect(_12,"onkeypress",this,function(evt){if(evt.charOrCode==_4.keys.ESCAPE&&_d.onCancel){_4.stopEvent(evt);_d.onCancel();}else{if(evt.charOrCode===_4.keys.TAB){_4.stopEvent(evt);var _16=_b();if(_16&&_16.onCancel){_16.onCancel();}}}}));if(_e.onCancel){_15.push(_4.connect(_e,"onCancel",_d.onCancel));}_15.push(_4.connect(_e,_e.onExecute?"onExecute":"onChange",function(){var _17=_b();if(_17&&_17.onExecute){_17.onExecute();}}));_7.push({wrapper:_12,iframe:_13,widget:_e,parent:_d.parent,onExecute:_d.onExecute,onCancel:_d.onCancel,onClose:_d.onClose,handlers:_15});if(_e.onOpen){_e.onOpen(_14);}return _14;};this.close=function(_18){while(_4.some(_7,function(_19){return _19.widget==_18;})){var top=_7.pop(),_1a=top.wrapper,_1b=top.iframe,_1c=top.widget,_1d=top.onClose;if(_1c.onClose){_1c.onClose();}_4.forEach(top.handlers,_4.disconnect);if(_1c&&_1c.domNode){this.moveOffScreen(_1c.domNode);}_1a.style.top="-9999px";_1a.style.visibility="hidden";_c.push([_1a,_1b]);if(_1d){_1d();}}};}();_5._frames=new function(){var _1e=[];this.pop=function(){var _1f;if(_1e.length){_1f=_1e.pop();_1f.style.display="";}else{if(_4.isIE){var _20=_4.config["dojoBlankHtmlUrl"]||(_4.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _21="<iframe src='"+_20+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1f=_4.doc.createElement(_21);}else{_1f=_4.create("iframe");_1f.src="javascript:\"\"";_1f.className="dijitBackgroundIframe";_4.style(_1f,"opacity",0.1);}_1f.tabIndex=-1;}return _1f;};this.push=function(_22){_22.style.display="none";_1e.push(_22);};}();_5.BackgroundIframe=function(_23){if(!_23.id){throw new Error("no id");}if(_4.isIE||_4.isMoz){var _24=_5._frames.pop();_23.appendChild(_24);if(_4.isIE<7){this.resize(_23);this._conn=_4.connect(_23,"onresize",this,function(){this.resize(_23);});}else{_4.style(_24,{width:"100%",height:"100%"});}this.iframe=_24;}};_4.extend(_5.BackgroundIframe,{resize:function(_25){if(this.iframe&&_4.isIE<7){_4.style(this.iframe,{width:_25.offsetWidth+"px",height:_25.offsetHeight+"px"});}},destroy:function(){if(this._conn){_4.disconnect(this._conn);this._conn=null;}if(this.iframe){_5._frames.push(this.iframe);delete this.iframe;}}});}}};});